<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>DBL text interface</title>

	<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="style/interface.css">
</head>

<body>
	<div class = "headercontainer">
		<div class = "textbox">
			<h1 id="header"></h1>
		</div>
		<div id="sketch-holder" class= "p5container"></div>
	</div>



<div class="contentcontainer">
	<div id ="intro" class="text-section">
		<h2 id="introstart" class="divider"></h2>
		<p id="introtext"></p>
		<h2 id="introend"></h2>	
	
		<p id="continued"></p>	
		<form>
			 <input autocomplete="off" type="text" id="fname" name="yes/no">
		</form>
	</div>


	<div id="decision" class="text-section">
		<h2 id="decisionintro"></h2>
		<p id="decisiontext"></p>
		<h2 id="decisionend"></h2>
		<p id="getquestion"></p>	
		<form>
			 <input autocomplete="off" type="text" id="fname2" name="yes/no">
		</form>
	</div>

	<div class="text-section">
		<h2 id="question"></h2>
	</div>
</div>

	<script src="js/libraries/p5.js" type="text/javascript"></script>
	<script src="js/libraries/p5.dom.js" type="text/javascript"></script>
    <script src="js/libraries/p5.sound.js" type="text/javascript"></script>
    <script src="js/sketch.js" type="text/javascript"></script>

	<script type="text/javascript" src="js/libraries/typed.js"></script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.js"></script>
	<script type="text/javascript">
			$(document).ready(function($){
			var keyNotHit = true;

			var slowType = 40;
			var fastType = 20; 
 
			// H E A D E R  
			 var Type = new Typed('#header', {
				strings: ["Hello!</br>^700Welcome to <b>Digital Body Language.</b> </br> ^700 Please sit down, and press any key to start. </br> ^1000 *********************************"],
				startDelay: 1000,
				typeSpeed: fastType,
				showCursor: false,
				backSpeed: 10,
				loop: true
			});	
			 	$( ".contentcontainer" ).hide();
				$(document).keypress(function(event) {
					if(keyNotHit){
	     				keyNotHit = false;

 					$(".headercontainer").fadeOut("normal", function() {
    				    $(this).remove();
    				});
    				 	$( ".contentcontainer" ).show();
	     				new Typed("#introstart", introstart)
     				}
				});
			




			 // I N T R O D U K T I O N	

			 var introstart = {
			 	strings: ["///INTRODUKTION</br> ^700///////////////////////////////////////////////////////////////////////////"],
				startDelay: 1000,
				typeSpeed: fastType,
				showCursor: false,
				onComplete: (self) =>  new Typed("#introtext", introtext)
			 }

			 var introtext = {
			 	strings: ["Welcome, and thank you for starting the Digital Body Language.<br><br>^700Whats about to happen is a performance. A performance from you.<br><br>^700Its going to be an embodiement of you action. An action you perform everyday, but an action which results dosen't reflect its process.<br><br>^700uhuh ... yih! i saw beyonces tizzles and my pizzle went crizzle sit amizzle, get down get down adipiscing elizzle. Nullizzle boofron velizzle, mofo go to hizzle, suscipizzle bizzle, gravida vizzle, arcu. Pellentesque go to hizzle tortizzle. Sizzle erizzle. Pizzle izzle dolor dapibus shiz tempizzle fo shizzle. Maurizzle pellentesque fo et turpizzle. Uhuh ..."],
				startDelay: 1000,
				typeSpeed: slowType,
				showCursor: false,
				onComplete: (self) =>  new Typed("#introend", introend)
			 }

			 var introend = {
			 	strings: ["///////////////////////////////////////////////////////////////////////////"],
				startDelay: 500,
				typeSpeed: fastType,
				showCursor: false,
				onComplete: (self) =>  new Typed("#continued", continued)
			 }


			 var continued = {
			 	strings: ["Do you wanna continue from here?</br> Type <b>'Yes'</b> to continue, or <b>'No'</b> to stop."],
				startDelay: 1000,
				typeSpeed: slowType,
				showCursor: false,
				onComplete: (self) =>  $( "#fname" ).focus()
			 } 

			
			 $( "#fname" ).keydown(function( event ) {
			 	if(event.key == 'Enter'){
				  if ( $( "input:eq(0)" ).val() === "yes" || $( "input:eq(0)" ).val() === "YES" ) {
				  	$("#intro").fadeOut("normal", function() {
    				    $(this).remove();
    				});
				    new Typed("#decisionintro", decisionintro)
				    event.preventDefault();
				  }
			}
			});



			 // D I S I C I O N 

			  var decisionintro = {
			 	strings: ["///DECISION</br> ^700///////////////////////////////////////////////////////////////////////////"],
				startDelay: 1000,
				typeSpeed: fastType,
				showCursor: false,
				onComplete: (self) =>  new Typed("#decisiontext", decisiontext)
			 }

			  var decisiontext = {
			 	strings: ["Your are going to do a peformance. And I'm going to ask you a question...</br></br>^700You asnweing the question with a fullfilled answer is going to be the performance</br></br>^700Are you ready to receive your question, and start the performance?"],
				startDelay: 1000,
				typeSpeed: slowType,
				showCursor: false,
				onComplete: (self) =>  new Typed("#decisionend", decisionend)
			 }

			  var decisionend = {
			 	strings: ["///////////////////////////////////////////////////////////////////////////"],
				startDelay: 500,
				typeSpeed: fastType,
				showCursor: false,
				onComplete: (self) =>  new Typed("#getquestion", getquestion)
			 }

			 var getquestion = {
				strings: ["If you are ready, type <b>'Yes'</b> to get your question, or <b>'No'</b> to stop."],
				startDelay: 1000,
				typeSpeed: slowType,
				showCursor: false,
				onComplete: (self) =>  $( "#fname2" ).focus()
			}

			$( '#fname2').keydown(function( event ){
					if(event.key == 'Enter'){
					if ( $( "input:eq(1)" ).val() === "yes" || $( "input:eq(1)" ).val() === "YES" ) {
					}
						
							$("#decision").fadeOut("normal", function() {
				    			$(this).remove();
				    		}); 

							new Typed("#question", question);
							event.preventDefault();
					//	}
					}
				});

				 // Q U E S T I O N
			 var question = {
				strings: ["How would you describe your relationship to your mom?"],
				startDelay: 1000,
				typeSpeed: slowType,
				showCursor: false
			//	onComplete: (self) =>  $( "#fname2" ).focus()
			}


		})
	</script>
</body>
</html>